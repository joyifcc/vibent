{"ast":null,"code":"// src/components/TopArtistsList.js\nimport React,{useEffect,useState}from'react';import'./TopArtistsList.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const TopArtistsList=_ref=>{let{topArtists,onShowRelatedArtists,onShowConcerts}=_ref;const[concertData,setConcertData]=useState({});useEffect(()=>{const fetchConcerts=async()=>{const data={};for(const artist of topArtists){try{const res=await fetch(`/api/concerts?artistName=${encodeURIComponent(artist.name)}`);const json=await res.json();data[artist.name]=(json===null||json===void 0?void 0:json.events)||[];}catch(error){console.error(`Error fetching concerts for ${artist.name}:`,error);}}setConcertData(data);};if(topArtists.length>0){fetchConcerts();}},[topArtists]);return/*#__PURE__*/_jsxs(\"div\",{className:\"top-artists-container\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"title\",children:\"Your Top Spotify Artists\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"artist-list\",children:topArtists.map((artist,index)=>{var _artist$images,_artist$images$,_artist$relatedArtist,_concertData$artist$n;return/*#__PURE__*/_jsxs(\"li\",{className:\"artist-card\",children:[/*#__PURE__*/_jsx(\"img\",{src:(_artist$images=artist.images)===null||_artist$images===void 0?void 0:(_artist$images$=_artist$images[0])===null||_artist$images$===void 0?void 0:_artist$images$.url,alt:artist.name,className:\"artist-img\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"artist-name\",children:artist.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"artist-popularity\",children:[\"Popularity: \",artist.popularity]}),((_artist$relatedArtist=artist.relatedArtists)===null||_artist$relatedArtist===void 0?void 0:_artist$relatedArtist.length)>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"related-artists\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"related-title\",children:\"Related Artists:\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"related-list\",children:artist.relatedArtists.slice(0,3).map((rel,i)=>/*#__PURE__*/_jsx(\"li\",{className:\"related-item\",children:rel.name},i))})]}),((_concertData$artist$n=concertData[artist.name])===null||_concertData$artist$n===void 0?void 0:_concertData$artist$n.length)>0?/*#__PURE__*/_jsxs(\"div\",{className:\"concerts\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"concert-title\",children:\"Upcoming Concerts:\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"concert-list\",children:concertData[artist.name].slice(0,2).map((event,i)=>{var _event$_embedded,_event$_embedded$venu,_event$_embedded$venu2;return/*#__PURE__*/_jsxs(\"li\",{className:\"concert-item\",children:[event.name,\" \\u2014 \",event.dates.start.localDate,\" @ \",(_event$_embedded=event._embedded)===null||_event$_embedded===void 0?void 0:(_event$_embedded$venu=_event$_embedded.venues)===null||_event$_embedded$venu===void 0?void 0:(_event$_embedded$venu2=_event$_embedded$venu[0])===null||_event$_embedded$venu2===void 0?void 0:_event$_embedded$venu2.name]},i);})})]}):/*#__PURE__*/_jsx(\"p\",{className:\"no-concerts\",children:\"No concerts found\"})]})]},index);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"action-buttons\",style:{display:'flex',justifyContent:'center',gap:'20px',marginTop:'30px'},children:[onShowRelatedArtists&&/*#__PURE__*/_jsx(\"button\",{className:\"show-related-button\",onClick:onShowRelatedArtists,style:{padding:'10px 20px',fontSize:'1rem',backgroundColor:'#1DB954',border:'none',borderRadius:'8px',cursor:'pointer',color:'white'},children:\"See All Related Artists\"}),onShowConcerts&&/*#__PURE__*/_jsx(\"button\",{className:\"show-concerts-button\",onClick:onShowConcerts,style:{padding:'10px 20px',fontSize:'1rem',backgroundColor:'#191414',border:'2px solid #1DB954',borderRadius:'8px',cursor:'pointer',color:'white'},children:\"Find All Concerts\"})]})]});};export default TopArtistsList;","map":{"version":3,"names":["React","useEffect","useState","jsx","_jsx","jsxs","_jsxs","TopArtistsList","_ref","topArtists","onShowRelatedArtists","onShowConcerts","concertData","setConcertData","fetchConcerts","data","artist","res","fetch","encodeURIComponent","name","json","events","error","console","length","className","children","map","index","_artist$images","_artist$images$","_artist$relatedArtist","_concertData$artist$n","src","images","url","alt","popularity","relatedArtists","slice","rel","i","event","_event$_embedded","_event$_embedded$venu","_event$_embedded$venu2","dates","start","localDate","_embedded","venues","style","display","justifyContent","gap","marginTop","onClick","padding","fontSize","backgroundColor","border","borderRadius","cursor","color"],"sources":["/Users/joyzhang/vibent/frontend/src/components/TopArtistsList.js"],"sourcesContent":["// src/components/TopArtistsList.js\nimport React, { useEffect, useState } from 'react';\nimport './TopArtistsList.css';\n\nconst TopArtistsList = ({ topArtists, onShowRelatedArtists, onShowConcerts }) => {\n  const [concertData, setConcertData] = useState({});\n\n  useEffect(() => {\n    const fetchConcerts = async () => {\n      const data = {};\n      for (const artist of topArtists) {\n        try {\n          const res = await fetch(`/api/concerts?artistName=${encodeURIComponent(artist.name)}`);\n          const json = await res.json();\n          data[artist.name] = json?.events || [];\n        } catch (error) {\n          console.error(`Error fetching concerts for ${artist.name}:`, error);\n        }\n      }\n      setConcertData(data);\n    };\n\n    if (topArtists.length > 0) {\n      fetchConcerts();\n    }\n  }, [topArtists]);\n\n  return (\n    <div className=\"top-artists-container\">\n      <h1 className=\"title\">Your Top Spotify Artists</h1>\n\n      <ul className=\"artist-list\">\n        {topArtists.map((artist, index) => (\n          <li key={index} className=\"artist-card\">\n            <img\n              src={artist.images?.[0]?.url}\n              alt={artist.name}\n              className=\"artist-img\"\n            />\n            <div>\n              <h3 className=\"artist-name\">{artist.name}</h3>\n              <p className=\"artist-popularity\">Popularity: {artist.popularity}</p>\n\n              {/* Related Artists */}\n              {artist.relatedArtists?.length > 0 && (\n                <div className=\"related-artists\">\n                  <p className=\"related-title\">Related Artists:</p>\n                  <ul className=\"related-list\">\n                    {artist.relatedArtists.slice(0, 3).map((rel, i) => (\n                      <li key={i} className=\"related-item\">{rel.name}</li>\n                    ))}\n                  </ul>\n                </div>\n              )}\n\n              {/* Concerts */}\n              {concertData[artist.name]?.length > 0 ? (\n                <div className=\"concerts\">\n                  <p className=\"concert-title\">Upcoming Concerts:</p>\n                  <ul className=\"concert-list\">\n                    {concertData[artist.name].slice(0, 2).map((event, i) => (\n                      <li key={i} className=\"concert-item\">\n                        {event.name} â€” {event.dates.start.localDate} @ {event._embedded?.venues?.[0]?.name}\n                      </li>\n                    ))}\n                  </ul>\n                </div>\n              ) : (\n                <p className=\"no-concerts\">No concerts found</p>\n              )}\n            </div>\n          </li>\n        ))}\n      </ul>\n\n      <div className=\"action-buttons\" style={{\n        display: 'flex',\n        justifyContent: 'center',\n        gap: '20px',\n        marginTop: '30px'\n      }}>\n        {onShowRelatedArtists && (\n          <button\n            className=\"show-related-button\"\n            onClick={onShowRelatedArtists}\n            style={{\n              padding: '10px 20px',\n              fontSize: '1rem',\n              backgroundColor: '#1DB954',\n              border: 'none',\n              borderRadius: '8px',\n              cursor: 'pointer',\n              color: 'white'\n            }}\n          >\n            See All Related Artists\n          </button>\n        )}\n\n        {onShowConcerts && (\n          <button\n            className=\"show-concerts-button\"\n            onClick={onShowConcerts}\n            style={{\n              padding: '10px 20px',\n              fontSize: '1rem',\n              backgroundColor: '#191414',\n              border: '2px solid #1DB954',\n              borderRadius: '8px',\n              cursor: 'pointer',\n              color: 'white'\n            }}\n          >\n            Find All Concerts\n          </button>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default TopArtistsList;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}