{"ast":null,"code":"// src/components/TopArtistsList.js\nimport React,{useEffect,useState}from'react';import'./TopArtistsList.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const TopArtistsList=_ref=>{let{topArtists,onShowRelatedArtists,onShowConcerts}=_ref;const[concertData,setConcertData]=useState({});const[loading,setLoading]=useState(false);useEffect(()=>{const fetchConcerts=async()=>{setLoading(true);const data={};for(const artist of topArtists){try{const res=await fetch(`/api/concerts?artistName=${encodeURIComponent(artist.name)}`);const json=await res.json();console.log(`Concert data for ${artist.name}:`,json);// Debug log\ndata[artist.name]=(json===null||json===void 0?void 0:json.events)||[];}catch(error){console.error(`Error fetching concerts for ${artist.name}:`,error);data[artist.name]=[];}}setConcertData(data);setLoading(false);};if(topArtists.length>0){fetchConcerts();}},[topArtists]);return/*#__PURE__*/_jsxs(\"div\",{className:\"top-artists-container\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"title\",children:\"Your Top Spotify Artists\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"artist-list\",children:topArtists.map((artist,index)=>{var _artist$images,_artist$images$,_artist$relatedArtist,_concertData$artist$n;return/*#__PURE__*/_jsxs(\"li\",{className:\"artist-card\",children:[/*#__PURE__*/_jsx(\"img\",{src:(_artist$images=artist.images)===null||_artist$images===void 0?void 0:(_artist$images$=_artist$images[0])===null||_artist$images$===void 0?void 0:_artist$images$.url,alt:artist.name,className:\"artist-img\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"artist-name\",children:artist.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"artist-popularity\",children:[\"Popularity: \",artist.popularity]}),((_artist$relatedArtist=artist.relatedArtists)===null||_artist$relatedArtist===void 0?void 0:_artist$relatedArtist.length)>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"related-artists\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"related-title\",children:\"Related Artists:\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"related-list\",children:artist.relatedArtists.slice(0,3).map((rel,i)=>/*#__PURE__*/_jsx(\"li\",{className:\"related-item\",children:rel.name},i))})]}),loading?/*#__PURE__*/_jsx(\"p\",{className:\"loading-concerts\",children:\"Loading concerts...\"}):((_concertData$artist$n=concertData[artist.name])===null||_concertData$artist$n===void 0?void 0:_concertData$artist$n.length)>0?/*#__PURE__*/_jsxs(\"div\",{className:\"concerts\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"concert-title\",children:\"Upcoming Concerts:\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"concert-list\",children:concertData[artist.name].slice(0,2).map((event,i)=>/*#__PURE__*/_jsxs(\"li\",{className:\"concert-item\",children:[event.name,\" \\u2014 \",event.date,\" @ \",event.venue]},i))})]}):/*#__PURE__*/_jsx(\"p\",{className:\"no-concerts\",children:\"No concerts found\"})]})]},index);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"action-buttons\",style:{display:'flex',justifyContent:'center',gap:'20px',marginTop:'30px'},children:[onShowRelatedArtists&&/*#__PURE__*/_jsx(\"button\",{className:\"show-related-button\",onClick:onShowRelatedArtists,style:{padding:'10px 20px',fontSize:'1rem',backgroundColor:'#1DB954',border:'none',borderRadius:'8px',cursor:'pointer',color:'white'},children:\"See All Related Artists\"}),onShowConcerts&&/*#__PURE__*/_jsx(\"button\",{className:\"show-concerts-button\",onClick:onShowConcerts,style:{padding:'10px 20px',fontSize:'1rem',backgroundColor:'#191414',border:'2px solid #1DB954',borderRadius:'8px',cursor:'pointer',color:'white'},children:\"Find All Concerts\"})]})]});};export default TopArtistsList;","map":{"version":3,"names":["React","useEffect","useState","jsx","_jsx","jsxs","_jsxs","TopArtistsList","_ref","topArtists","onShowRelatedArtists","onShowConcerts","concertData","setConcertData","loading","setLoading","fetchConcerts","data","artist","res","fetch","encodeURIComponent","name","json","console","log","events","error","length","className","children","map","index","_artist$images","_artist$images$","_artist$relatedArtist","_concertData$artist$n","src","images","url","alt","popularity","relatedArtists","slice","rel","i","event","date","venue","style","display","justifyContent","gap","marginTop","onClick","padding","fontSize","backgroundColor","border","borderRadius","cursor","color"],"sources":["/Users/joyzhang/vibent/frontend/src/components/TopArtistsList.js"],"sourcesContent":["// src/components/TopArtistsList.js\nimport React, { useEffect, useState } from 'react';\nimport './TopArtistsList.css';\n\nconst TopArtistsList = ({ topArtists, onShowRelatedArtists, onShowConcerts }) => {\n  const [concertData, setConcertData] = useState({});\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    const fetchConcerts = async () => {\n      setLoading(true);\n      const data = {};\n      for (const artist of topArtists) {\n        try {\n          const res = await fetch(`/api/concerts?artistName=${encodeURIComponent(artist.name)}`);\n          const json = await res.json();\n          console.log(`Concert data for ${artist.name}:`, json); // Debug log\n          data[artist.name] = json?.events || [];\n        } catch (error) {\n          console.error(`Error fetching concerts for ${artist.name}:`, error);\n          data[artist.name] = [];\n        }\n      }\n      setConcertData(data);\n      setLoading(false);\n    };\n\n    if (topArtists.length > 0) {\n      fetchConcerts();\n    }\n  }, [topArtists]);\n\n  return (\n    <div className=\"top-artists-container\">\n      <h1 className=\"title\">Your Top Spotify Artists</h1>\n\n      <ul className=\"artist-list\">\n        {topArtists.map((artist, index) => (\n          <li key={index} className=\"artist-card\">\n            <img\n              src={artist.images?.[0]?.url}\n              alt={artist.name}\n              className=\"artist-img\"\n            />\n            <div>\n              <h3 className=\"artist-name\">{artist.name}</h3>\n              <p className=\"artist-popularity\">Popularity: {artist.popularity}</p>\n\n              {/* Related Artists */}\n              {artist.relatedArtists?.length > 0 && (\n                <div className=\"related-artists\">\n                  <p className=\"related-title\">Related Artists:</p>\n                  <ul className=\"related-list\">\n                    {artist.relatedArtists.slice(0, 3).map((rel, i) => (\n                      <li key={i} className=\"related-item\">{rel.name}</li>\n                    ))}\n                  </ul>\n                </div>\n              )}\n\n              {/* Concerts */}\n              {loading ? (\n                <p className=\"loading-concerts\">Loading concerts...</p>\n              ) : concertData[artist.name]?.length > 0 ? (\n                <div className=\"concerts\">\n                  <p className=\"concert-title\">Upcoming Concerts:</p>\n                  <ul className=\"concert-list\">\n                    {concertData[artist.name].slice(0, 2).map((event, i) => (\n                      <li key={i} className=\"concert-item\">\n                        {event.name} â€” {event.date} @ {event.venue}\n                      </li>\n                    ))}\n                  </ul>\n                </div>\n              ) : (\n                <p className=\"no-concerts\">No concerts found</p>\n              )}\n            </div>\n          </li>\n        ))}\n      </ul>\n\n      <div className=\"action-buttons\" style={{\n        display: 'flex',\n        justifyContent: 'center',\n        gap: '20px',\n        marginTop: '30px'\n      }}>\n        {onShowRelatedArtists && (\n          <button\n            className=\"show-related-button\"\n            onClick={onShowRelatedArtists}\n            style={{\n              padding: '10px 20px',\n              fontSize: '1rem',\n              backgroundColor: '#1DB954',\n              border: 'none',\n              borderRadius: '8px',\n              cursor: 'pointer',\n              color: 'white'\n            }}\n          >\n            See All Related Artists\n          </button>\n        )}\n\n        {onShowConcerts && (\n          <button\n            className=\"show-concerts-button\"\n            onClick={onShowConcerts}\n            style={{\n              padding: '10px 20px',\n              fontSize: '1rem',\n              backgroundColor: '#191414',\n              border: '2px solid #1DB954',\n              borderRadius: '8px',\n              cursor: 'pointer',\n              color: 'white'\n            }}\n          >\n            Find All Concerts\n          </button>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default TopArtistsList;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}