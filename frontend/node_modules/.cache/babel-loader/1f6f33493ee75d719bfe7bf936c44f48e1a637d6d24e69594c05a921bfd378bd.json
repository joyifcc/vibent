{"ast":null,"code":"import React,{useEffect,useState}from'react';// Define BACKEND_URL outside the component to avoid recreating it on every render\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const BACKEND_URL=process.env.REACT_APP_BACKEND_URL||'https://your-actual-backend-url.onrender.com';function RelatedArtists(_ref){let{artistId,accessToken}=_ref;const[relatedArtists,setRelatedArtists]=useState([]);const[error,setError]=useState(null);const[loading,setLoading]=useState(false);useEffect(()=>{if(!artistId||!accessToken)return;setLoading(true);console.log(`Fetching related artists for ${artistId}...`);fetch(`${BACKEND_URL}/related-artists/${artistId}?access_token=${accessToken}`).then(res=>{if(!res.ok){console.error(`Error response: ${res.status}`);throw new Error(`Failed to fetch related artists (${res.status})`);}return res.json();}).then(data=>{var _data$artists;console.log(`Received ${((_data$artists=data.artists)===null||_data$artists===void 0?void 0:_data$artists.length)||0} related artists`);setRelatedArtists(data.artists||[]);setError(null);}).catch(err=>{console.error(\"Error fetching related artists:\",err);setError(err.message);}).finally(()=>setLoading(false));},[artistId,accessToken]);if(loading)return/*#__PURE__*/_jsx(\"p\",{children:\"Loading related artists...\"});if(error)return/*#__PURE__*/_jsx(\"p\",{style:{color:'red'},children:error});if(relatedArtists.length===0)return/*#__PURE__*/_jsx(\"p\",{children:\"No related artists found.\"});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Related Artists\"}),/*#__PURE__*/_jsx(\"ul\",{style:{paddingLeft:0,listStyle:'none'},children:relatedArtists.map(artist=>/*#__PURE__*/_jsx(\"li\",{style:{marginBottom:8},children:/*#__PURE__*/_jsx(\"a\",{href:artist.external_urls.spotify,target:\"_blank\",rel:\"noopener noreferrer\",style:{color:'blue',textDecoration:'underline'},children:artist.name})},artist.id))})]});}export default RelatedArtists;","map":{"version":3,"names":["React","useEffect","useState","jsx","_jsx","jsxs","_jsxs","BACKEND_URL","process","env","REACT_APP_BACKEND_URL","RelatedArtists","_ref","artistId","accessToken","relatedArtists","setRelatedArtists","error","setError","loading","setLoading","console","log","fetch","then","res","ok","status","Error","json","data","_data$artists","artists","length","catch","err","message","finally","children","style","color","paddingLeft","listStyle","map","artist","marginBottom","href","external_urls","spotify","target","rel","textDecoration","name","id"],"sources":["/Users/joyzhang/vibent/frontend/src/RelatedArtists.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\n\n// Define BACKEND_URL outside the component to avoid recreating it on every render\nconst BACKEND_URL = process.env.REACT_APP_BACKEND_URL || 'https://your-actual-backend-url.onrender.com';\n\nfunction RelatedArtists({ artistId, accessToken }) {\n  const [relatedArtists, setRelatedArtists] = useState([]);\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    if (!artistId || !accessToken) return;\n\n    setLoading(true);\n    console.log(`Fetching related artists for ${artistId}...`);\n    \n    fetch(`${BACKEND_URL}/related-artists/${artistId}?access_token=${accessToken}`)\n      .then(res => {\n        if (!res.ok) {\n          console.error(`Error response: ${res.status}`);\n          throw new Error(`Failed to fetch related artists (${res.status})`);\n        }\n        return res.json();\n      })\n      .then(data => {\n        console.log(`Received ${data.artists?.length || 0} related artists`);\n        setRelatedArtists(data.artists || []);\n        setError(null);\n      })\n      .catch(err => {\n        console.error(\"Error fetching related artists:\", err);\n        setError(err.message);\n      })\n      .finally(() => setLoading(false));\n  }, [artistId, accessToken]);\n\n  if (loading) return <p>Loading related artists...</p>;\n  if (error) return <p style={{ color: 'red' }}>{error}</p>;\n  if (relatedArtists.length === 0) return <p>No related artists found.</p>;\n\n  return (\n    <div>\n      <h2>Related Artists</h2>\n      <ul style={{ paddingLeft: 0, listStyle: 'none' }}>\n        {relatedArtists.map(artist => (\n          <li key={artist.id} style={{ marginBottom: 8 }}>\n            <a\n              href={artist.external_urls.spotify}\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              style={{ color: 'blue', textDecoration: 'underline' }}\n            >\n              {artist.name}\n            </a>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n}\n\nexport default RelatedArtists;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}