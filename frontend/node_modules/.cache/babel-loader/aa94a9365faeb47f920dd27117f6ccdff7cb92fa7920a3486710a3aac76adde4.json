{"ast":null,"code":"import React,{useEffect,useState}from'react';import RelatedArtists from'./RelatedArtists';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[token,setToken]=useState('');const[selectedArtistId,setSelectedArtistId]=useState('');useEffect(()=>{var _hash$match;const hash=window.location.hash;const tokenFromUrl=(_hash$match=hash.match(/access_token=([^&]*)/))===null||_hash$match===void 0?void 0:_hash$match[1];if(tokenFromUrl){setToken(tokenFromUrl);window.location.hash='';}},[]);const handleSelectArtist=id=>{setSelectedArtistId(id);};return/*#__PURE__*/_jsxs(\"div\",{style:{padding:20},children:[/*#__PURE__*/_jsx(\"h1\",{children:\"My Spotify Dashboard\"}),!token?/*#__PURE__*/_jsx(\"a\",{href:`https://your-backend.onrender.com/login`,style:{padding:'10px 20px',backgroundColor:'#1DB954',color:'white',borderRadius:25,textDecoration:'none',fontWeight:'bold'},children:\"Login with Spotify\"}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleSelectArtist('1uNFoZAHBGtllmzznpCI3s')// Justin Bieber ID\n,style:{margin:'20px 0',padding:'10px 20px',borderRadius:10,backgroundColor:'#333',color:'white',border:'none',cursor:'pointer'},children:\"Show Related Artists for Justin Bieber\"}),selectedArtistId&&/*#__PURE__*/_jsx(RelatedArtists,{artistId:selectedArtistId,accessToken:token})]})]});}export default App;","map":{"version":3,"names":["React","useEffect","useState","RelatedArtists","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","App","token","setToken","selectedArtistId","setSelectedArtistId","_hash$match","hash","window","location","tokenFromUrl","match","handleSelectArtist","id","style","padding","children","href","backgroundColor","color","borderRadius","textDecoration","fontWeight","onClick","margin","border","cursor","artistId","accessToken"],"sources":["/Users/joyzhang/vibent/frontend/src/RelatedArtists.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport RelatedArtists from './RelatedArtists';\n\nfunction App() {\n  const [token, setToken] = useState('');\n  const [selectedArtistId, setSelectedArtistId] = useState('');\n\n  useEffect(() => {\n    const hash = window.location.hash;\n    const tokenFromUrl = hash.match(/access_token=([^&]*)/)?.[1];\n    if (tokenFromUrl) {\n      setToken(tokenFromUrl);\n      window.location.hash = '';\n    }\n  }, []);\n\n  const handleSelectArtist = (id) => {\n    setSelectedArtistId(id);\n  };\n\n  return (\n    <div style={{ padding: 20 }}>\n      <h1>My Spotify Dashboard</h1>\n\n      {!token ? (\n        <a\n          href={`https://your-backend.onrender.com/login`}\n          style={{\n            padding: '10px 20px',\n            backgroundColor: '#1DB954',\n            color: 'white',\n            borderRadius: 25,\n            textDecoration: 'none',\n            fontWeight: 'bold',\n          }}\n        >\n          Login with Spotify\n        </a>\n      ) : (\n        <>\n          {/* Example hardcoded artist ID for testing */}\n          <button\n            onClick={() => handleSelectArtist('1uNFoZAHBGtllmzznpCI3s')} // Justin Bieber ID\n            style={{\n              margin: '20px 0',\n              padding: '10px 20px',\n              borderRadius: 10,\n              backgroundColor: '#333',\n              color: 'white',\n              border: 'none',\n              cursor: 'pointer',\n            }}\n          >\n            Show Related Artists for Justin Bieber\n          </button>\n\n          {selectedArtistId && (\n            <RelatedArtists artistId={selectedArtistId} accessToken={token} />\n          )}\n        </>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,cAAc,KAAM,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,QAAA,IAAAC,SAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE9C,QAAS,CAAAC,GAAGA,CAAA,CAAG,CACb,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACW,gBAAgB,CAAEC,mBAAmB,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CAE5DD,SAAS,CAAC,IAAM,KAAAc,WAAA,CACd,KAAM,CAAAC,IAAI,CAAGC,MAAM,CAACC,QAAQ,CAACF,IAAI,CACjC,KAAM,CAAAG,YAAY,EAAAJ,WAAA,CAAGC,IAAI,CAACI,KAAK,CAAC,sBAAsB,CAAC,UAAAL,WAAA,iBAAlCA,WAAA,CAAqC,CAAC,CAAC,CAC5D,GAAII,YAAY,CAAE,CAChBP,QAAQ,CAACO,YAAY,CAAC,CACtBF,MAAM,CAACC,QAAQ,CAACF,IAAI,CAAG,EAAE,CAC3B,CACF,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAK,kBAAkB,CAAIC,EAAE,EAAK,CACjCR,mBAAmB,CAACQ,EAAE,CAAC,CACzB,CAAC,CAED,mBACEb,KAAA,QAAKc,KAAK,CAAE,CAAEC,OAAO,CAAE,EAAG,CAAE,CAAAC,QAAA,eAC1BpB,IAAA,OAAAoB,QAAA,CAAI,sBAAoB,CAAI,CAAC,CAE5B,CAACd,KAAK,cACLN,IAAA,MACEqB,IAAI,CAAE,yCAA0C,CAChDH,KAAK,CAAE,CACLC,OAAO,CAAE,WAAW,CACpBG,eAAe,CAAE,SAAS,CAC1BC,KAAK,CAAE,OAAO,CACdC,YAAY,CAAE,EAAE,CAChBC,cAAc,CAAE,MAAM,CACtBC,UAAU,CAAE,MACd,CAAE,CAAAN,QAAA,CACH,oBAED,CAAG,CAAC,cAEJhB,KAAA,CAAAF,SAAA,EAAAkB,QAAA,eAEEpB,IAAA,WACE2B,OAAO,CAAEA,CAAA,GAAMX,kBAAkB,CAAC,wBAAwB,CAAG;AAAA,CAC7DE,KAAK,CAAE,CACLU,MAAM,CAAE,QAAQ,CAChBT,OAAO,CAAE,WAAW,CACpBK,YAAY,CAAE,EAAE,CAChBF,eAAe,CAAE,MAAM,CACvBC,KAAK,CAAE,OAAO,CACdM,MAAM,CAAE,MAAM,CACdC,MAAM,CAAE,SACV,CAAE,CAAAV,QAAA,CACH,wCAED,CAAQ,CAAC,CAERZ,gBAAgB,eACfR,IAAA,CAACF,cAAc,EAACiC,QAAQ,CAAEvB,gBAAiB,CAACwB,WAAW,CAAE1B,KAAM,CAAE,CAClE,EACD,CACH,EACE,CAAC,CAEV,CAEA,cAAe,CAAAD,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}